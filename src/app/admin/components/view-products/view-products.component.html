<div appAddMargin>
  <h2 class="text-center">Products</h2>
  <div class="loading-icon">
    <div *ngIf="loading" class="spinner-border" role="status">
      <span class="sr-only"></span>
    </div>
  </div>
  <div *ngIf="!loading">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">Title</th>
          <th scope="col">Price</th>
          <th scope="col">Operations</th>
        </tr>
      </thead>
      <tbody>
        <tr
          *ngFor="
            let product of products
              | paginate
                : {
                    itemsPerPage: tableSize,
                    currentPage: page,
                    totalItems: count
                  };
            let i = index
          "
        >
          <th scope="row">{{ tableSize * (page - 1) + (i + 1) }}</th>
          <td>{{ product.title }}</td>
          <td>{{ product.price }}</td>
          <td>
            <button
              (click)="showProductDetail(product.id)"
              class="mx-2 btn btn-outline-dark"
            >
              View
            </button>
            <button
              class="btn btn-outline-dark"
              (click)="editProduct(product.id)"
            >
              Edit
            </button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-center">
      <pagination-controls
        previousLabel="Prev"
        nextLabel="Next"
        (pageChange)="onTableDataChange($event)"
      >
      </pagination-controls>
    </div>
  </div>
</div>
